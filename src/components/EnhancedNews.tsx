import React, { useState, useEffect } from 'react';

interface NewsArticle {
  id: number;
  title: string;
  summary: string;
  fullContent: string;
  category: string;
  source: string;
  time: string;
  image: string;
  engagement: {
    likes: number;
    shares: number;
    comments: number;
  };
  readTime: string;
  political_lean: string;
  videoUrl?: string;
  relatedLinks?: string[];
  tags?: string[];
}

const EnhancedNews: React.FC = () => {
  const [selectedCategory, setSelectedCategory] = useState('todas');
  const [selectedArticle, setSelectedArticle] = useState<NewsArticle | null>(null);
  const [viewMode, setViewMode] = useState<'grid' | 'list'>('grid');
  const [searchQuery, setSearchQuery] = useState('');
  const [isLoading, setIsLoading] = useState(false);
  const [showReels, setShowReels] = useState(false);

  const categories = [
    { id: 'todas', name: 'Todas', icon: 'üì∞', count: 156, color: 'bg-gray-500' },
    { id: 'politica', name: 'Pol√≠tica', icon: 'üèõÔ∏è', count: 45, color: 'bg-blue-500' },
    { id: 'derecha', name: 'Right Wing', icon: 'üó≥Ô∏è', count: 23, color: 'bg-red-500' },
    { id: 'izquierda', name: 'Left Wing', icon: 'üåπ', count: 18, color: 'bg-green-500' },
    { id: 'independiente', name: 'Independiente', icon: '‚öñÔ∏è', count: 12, color: 'bg-purple-500' },
    { id: 'economia', name: 'Econom√≠a', icon: 'üí∞', count: 34, color: 'bg-yellow-500' },
    { id: 'social', name: 'Social', icon: 'üë•', count: 28, color: 'bg-pink-500' },
    { id: 'ambiente', name: 'Ambiente', icon: 'üå±', count: 19, color: 'bg-green-600' },
    { id: 'educacion', name: 'Educaci√≥n', icon: 'üìö', count: 16, color: 'bg-indigo-500' },
    { id: 'salud', name: 'Salud', icon: 'üè•', count: 21, color: 'bg-red-400' },
    { id: 'tecnologia', name: 'Tecnolog√≠a', icon: 'üíª', count: 14, color: 'bg-blue-600' },
    { id: 'deportes', name: 'Deportes', icon: '‚öΩ', count: 31, color: 'bg-orange-500' },
    { id: 'cultura', name: 'Cultura', icon: 'üé≠', count: 9, color: 'bg-purple-600' },
    { id: 'internacional', name: 'Internacional', icon: 'üåç', count: 26, color: 'bg-teal-500' }
  ];

  const news: NewsArticle[] = [
    {
      id: 1,
      title: 'Colombia avanza hacia la transici√≥n energ√©tica con inversi√≥n hist√≥rica',
      summary: 'El gobierno nacional anuncia inversi√≥n de $15 billones en energ√≠as renovables para los pr√≥ximos 5 a√±os.',
      fullContent: `Colombia da un paso decisivo hacia la transici√≥n energ√©tica con el anuncio de una inversi√≥n hist√≥rica de 15 billones de pesos en proyectos de energ√≠as renovables durante los pr√≥ximos cinco a√±os.

El ministro de Minas y Energ√≠a, Andr√©s Camacho, present√≥ el "Plan Nacional de Transici√≥n Energ√©tica 2024-2029", que posicionar√° a Colombia como l√≠der regional en energ√≠as limpias y reducir√° la dependencia de combustibles f√≥siles.

La iniciativa incluye la construcci√≥n de 20 nuevos parques solares y 15 parques e√≥licos en diferentes regiones del pa√≠s, con capacidad para generar 3,000 megavatios de energ√≠a limpia, suficiente para abastecer a 2.5 millones de hogares colombianos.

"Este es el proyecto de infraestructura energ√©tica m√°s ambicioso en la historia de Colombia", declar√≥ el ministro durante la presentaci√≥n del plan en Casa de Nari√±o.

Los proyectos se desarrollar√°n principalmente en La Guajira, Cesar, Santander, Tolima y Huila, regiones que cuentan con las mejores condiciones clim√°ticas para la generaci√≥n de energ√≠a solar y e√≥lica.

El plan tambi√©n contempla la creaci√≥n de 150,000 empleos directos e indirectos, programas de capacitaci√≥n t√©cnica para comunidades locales y el fortalecimiento de la industria nacional de componentes para energ√≠as renovables.

Adem√°s, se establecer√°n incentivos tributarios para empresas que adopten energ√≠as limpias y se implementar√° un programa de sustituci√≥n gradual de veh√≠culos de combusti√≥n por veh√≠culos el√©ctricos en el transporte p√∫blico.

La meta es que para 2029, el 70% de la matriz energ√©tica colombiana provenga de fuentes renovables, comparado con el 30% actual.

Los primeros proyectos comenzar√°n construcci√≥n en el segundo semestre de 2024, con financiamiento del Banco Mundial, el BID y fondos de inversi√≥n internacional especializados en energ√≠as limpias.`,
      category: 'ambiente',
      source: 'Ministerio de Minas y Energ√≠a',
      time: '1 hora',
      image: 'üå±',
      engagement: { likes: 456, shares: 234, comments: 89 },
      readTime: '6 min',
      political_lean: 'independiente',
      videoUrl: 'https://www.youtube.com/embed/dQw4w9WgXcQ',
      tags: ['energ√≠a', 'sostenibilidad', 'inversi√≥n', 'empleo'],
      relatedLinks: [
        'Plan Nacional de Transici√≥n Energ√©tica - Documento completo',
        'Mapa interactivo de proyectos renovables',
        'Calculadora de impacto ambiental'
      ]
    },
    {
      id: 2,
      title: 'Propuesta conservadora busca fortalecer la seguridad ciudadana',
      summary: 'Coalici√≥n de partidos de derecha presenta plan integral contra la criminalidad urbana.',
      fullContent: `Una coalici√≥n de partidos conservadores, liderada por el Centro Democr√°tico y el Partido Conservador, present√≥ un plan integral de seguridad ciudadana que propone medidas contundentes para combatir la criminalidad urbana en las principales ciudades del pa√≠s.

El plan "Colombia Segura", presentado por el senador √Ålvaro Uribe y el expresidente Iv√°n Duque, incluye 15 propuestas espec√≠ficas para reducir los √≠ndices de inseguridad en un 40% durante los pr√≥ximos cuatro a√±os.

Entre las medidas m√°s destacadas se encuentra el aumento del pie de fuerza policial en 25,000 nuevos agentes, la implementaci√≥n de tecnolog√≠a de reconocimiento facial en espacios p√∫blicos y el fortalecimiento de las penas para delitos como hurto, extorsi√≥n y microtr√°fico.

"Los colombianos de bien merecen vivir en paz y tranquilidad. Nuestra propuesta devuelve la autoridad leg√≠tima del Estado y protege a las familias trabajadoras", declar√≥ Uribe durante la presentaci√≥n.

El plan tambi√©n incluye la creaci√≥n de 500 nuevos CAI (Comandos de Atenci√≥n Inmediata) en barrios vulnerables, la ampliaci√≥n del programa de c√°maras de seguridad y la implementaci√≥n de sistemas de geolocalizaci√≥n para el seguimiento de reincidentes.

En materia judicial, proponen la creaci√≥n de jueces especializados en criminalidad urbana, la eliminaci√≥n de beneficios penitenciarios para delincuentes reincidentes y la implementaci√≥n de pulseras electr√≥nicas para el control de medidas cautelares.

El plan contempla una inversi√≥n de 8 billones de pesos en cuatro a√±os, financiada mediante la reasignaci√≥n del presupuesto de defensa y nuevos grav√°menes a actividades como apuestas online y cigarrillos electr√≥nicos.

Los partidos promotores anunciaron que buscar√°n apoyo en el Congreso para convertir estas propuestas en ley de la Rep√∫blica antes de finalizar 2024.

"La seguridad no es de izquierda ni de derecha, es una necesidad de todos los colombianos", concluy√≥ el expresidente Duque.`,
      category: 'derecha',
      source: 'Centro Democr√°tico',
      time: '2 horas',
      image: 'üó≥Ô∏è',
      engagement: { likes: 678, shares: 423, comments: 156 },
      readTime: '5 min',
      political_lean: 'derecha',
      tags: ['seguridad', 'polic√≠a', 'tecnolog√≠a', 'justicia'],
      relatedLinks: [
        'Plan Colombia Segura - Documento completo',
        'Estad√≠sticas de criminalidad por ciudad',
        'Comparativo internacional de pol√≠ticas de seguridad'
      ]
    },
    {
      id: 3,
      title: 'Gobierno impulsa reforma social integral para reducir desigualdad',
      summary: 'Pacto Hist√≥rico presenta propuesta transformadora en educaci√≥n, salud y vivienda social.',
      fullContent: `El gobierno del presidente Gustavo Petro present√≥ una reforma social integral que busca transformar las estructuras de desigualdad en Colombia mediante intervenciones profundas en educaci√≥n, salud, vivienda y trabajo digno.

La ministra de Educaci√≥n, Aurora Vergara, lider√≥ la presentaci√≥n del componente educativo que incluye la gratuidad total de la educaci√≥n superior p√∫blica, la creaci√≥n de 200,000 nuevos cupos universitarios y un programa nacional de alfabetizaci√≥n digital.

"La educaci√≥n es el derecho fundamental que permite romper los ciclos de pobreza y construir una sociedad m√°s justa", declar√≥ la ministra durante el evento en la Universidad Nacional.

En salud, la reforma propone la creaci√≥n de un sistema √∫nico p√∫blico que garantice atenci√≥n integral gratuita para todos los colombianos, eliminando gradualmente las EPS privadas y fortaleciendo la red p√∫blica hospitalaria.

El plan incluye la construcci√≥n de 150 nuevos hospitales en regiones apartadas, la contrataci√≥n de 50,000 profesionales de la salud y la implementaci√≥n de un programa nacional de medicina preventiva comunitaria.

En materia de vivienda, el gobierno propone la construcci√≥n de 500,000 viviendas sociales en cinco a√±os, con prioridad para familias v√≠ctimas del conflicto armado, madres cabeza de familia y j√≥venes rurales.

El componente laboral incluye la formalizaci√≥n de 2 millones de empleos, la reducci√≥n de la jornada laboral a 40 horas semanales y el aumento progresivo del salario m√≠nimo hasta alcanzar $1.5 millones en 2027.

"Esta reforma representa el cambio real que prometimos. Es el camino hacia la Colombia humana que queremos construir", afirm√≥ el presidente Petro en su intervenci√≥n.

La financiaci√≥n se realizar√° mediante una reforma tributaria que aumentar√° los impuestos a las grandes fortunas, la implementaci√≥n de un impuesto al patrimonio y la reasignaci√≥n del gasto militar hacia inversi√≥n social.

El gobierno espera radicar el proyecto en el Congreso en marzo de 2024 y lograr su aprobaci√≥n antes de finalizar el per√≠odo de sesiones.`,
      category: 'izquierda',
      source: 'Presidencia de la Rep√∫blica',
      time: '3 horas',
      image: 'üåπ',
      engagement: { likes: 892, shares: 567, comments: 234 },
      readTime: '7 min',
      political_lean: 'izquierda',
      tags: ['reforma social', 'educaci√≥n', 'salud', 'igualdad'],
      relatedLinks: [
        'Reforma Social Integral - Documento oficial',
        'Cronograma de implementaci√≥n',
        'Calculadora de beneficios por regi√≥n'
      ]
    },
    {
      id: 4,
      title: 'An√°lisis t√©cnico: Colombia en el escenario econ√≥mico global 2024',
      summary: 'Estudio independiente eval√∫a oportunidades y riesgos econ√≥micos para Colombia.',
      fullContent: `Un consorcio de instituciones acad√©micas independientes public√≥ un an√°lisis comprehensivo sobre el posicionamiento de Colombia en el escenario econ√≥mico global para 2024, identificando tanto oportunidades como riesgos significativos.

El estudio, coordinado por la Universidad de los Andes en alianza con universidades internacionales, presenta una evaluaci√≥n objetiva basada en 50 indicadores econ√≥micos y proyecciones de organismos multilaterales.

Seg√∫n el informe, Colombia muestra signos positivos en la diversificaci√≥n de sus exportaciones, el crecimiento del sector servicios y la estabilidad macroecon√≥mica, pero enfrenta desaf√≠os en competitividad, infraestructura y capital humano.

"Colombia tiene fundamentos s√≥lidos para crecer, pero requiere reformas estructurales que mejoren la productividad y la competitividad", se√±ala la economista Mar√≠a Alejandra V√©lez, directora del estudio.

El an√°lisis destaca cinco sectores con mayor potencial de crecimiento: tecnolog√≠a e innovaci√≥n, turismo sostenible, agroindustria, econom√≠a naranja y energ√≠as renovables.

En tecnolog√≠a, Colombia ha mostrado avances significativos con el crecimiento del ecosistema de startups, que atrajo inversiones por $800 millones de d√≥lares en 2023, posicionando al pa√≠s como hub tecnol√≥gico regional.

El turismo sostenible presenta oportunidades importantes, especialmente en ecoturismo y turismo cultural, sectores que podr√≠an generar 300,000 empleos adicionales si se desarrollan adecuadamente.

Sin embargo, el estudio tambi√©n identifica riesgos que requieren atenci√≥n inmediata: la alta informalidad laboral (47%), el d√©ficit en infraestructura de transporte y la brecha digital que afecta especialmente a las regiones rurales.

Los acad√©micos recomiendan una agenda de reformas que incluya la modernizaci√≥n del sistema educativo, la inversi√≥n en infraestructura 4G y 5G, y el fortalecimiento de las instituciones regulatorias.

"El √©xito econ√≥mico de Colombia depender√° de su capacidad para generar consensos pol√≠ticos en torno a reformas de largo plazo", concluye el documento.

El estudio ser√° presentado oficialmente ante el Congreso de la Rep√∫blica, gremios econ√≥micos y organizaciones internacionales durante febrero de 2024.`,
      category: 'independiente',
      source: 'Consorcio Acad√©mico Independiente',
      time: '4 horas',
      image: '‚öñÔ∏è',
      engagement: { likes: 234, shares: 123, comments: 67 },
      readTime: '8 min',
      political_lean: 'independiente',
      tags: ['econom√≠a', 'an√°lisis', 'competitividad', 'desarrollo'],
      relatedLinks: [
        'Estudio completo - 250 p√°ginas',
        'Datos y estad√≠sticas interactivas',
        'Comparativo regional Am√©rica Latina'
      ]
    },
    {
      id: 5,
      title: 'Innovaci√≥n educativa: Colombia lidera programa de IA en universidades',
      summary: 'Ministerio de Educaci√≥n lanza iniciativa para integrar inteligencia artificial en la educaci√≥n superior.',
      fullContent: `Colombia se posiciona como pionero en Am√©rica Latina con el lanzamiento del programa "IA-Educaci√≥n 2024", una iniciativa que integrar√° la inteligencia artificial en los procesos de ense√±anza-aprendizaje de todas las universidades p√∫blicas del pa√≠s.

La ministra de Educaci√≥n, Aurora Vergara, anunci√≥ que el programa beneficiar√° directamente a 500,000 estudiantes universitarios y 25,000 docentes en 67 instituciones de educaci√≥n superior p√∫blicas.

"Estamos preparando a las nuevas generaciones para los empleos del futuro. La inteligencia artificial no es una amenaza, sino una herramienta transformadora para democratizar el conocimiento", declar√≥ la ministra.

El programa incluye la creaci√≥n de 15 centros especializados en IA distribuidos estrat√©gicamente en diferentes regiones, laboratorios de realidad virtual para carreras t√©cnicas y plataformas de aprendizaje adaptativo que personalizan la educaci√≥n seg√∫n las necesidades de cada estudiante.

La Universidad Nacional liderar√° el componente de investigaci√≥n con la creaci√≥n del Instituto Colombiano de Inteligencia Artificial, que desarrollar√° soluciones tecnol√≥gicas espec√≠ficas para los retos del pa√≠s en agricultura, salud y educaci√≥n.

En alianza con empresas tecnol√≥gicas como Microsoft, Google y IBM, se implementar√°n programas de certificaci√≥n internacional que permitir√°n a los estudiantes acceder a empleos globales desde Colombia.

El plan tambi√©n contempla la capacitaci√≥n de docentes en metodolog√≠as pedag√≥gicas digitales, con 40 horas de formaci√≥n obligatoria en herramientas de IA educativa para todos los profesores universitarios.

Una de las innovaciones m√°s destacadas es la creaci√≥n de "tutores virtuales" basados en IA que estar√°n disponibles 24/7 para resolver dudas acad√©micas en tiempo real, especialmente beneficiando a estudiantes de regiones remotas.

El programa tendr√° una inversi√≥n de 2 billones de pesos en cuatro a√±os, financiado con recursos del presupuesto nacional, cr√©ditos del Banco Mundial y aportes de la cooperaci√≥n internacional.

"Queremos que un estudiante de la Amazonia tenga las mismas oportunidades educativas que uno de Bogot√°. La tecnolog√≠a es el gran igualador social", concluy√≥ la ministra.

Los primeros pilotos comenzar√°n en marzo de 2024 en las universidades Nacional, Antioquia, Valle y Atl√°ntico, para posteriormente expandirse a todo el sistema.`,
      category: 'educacion',
      source: 'Ministerio de Educaci√≥n',
      time: '5 horas',
      image: 'üìö',
      engagement: { likes: 567, shares: 345, comments: 123 },
      readTime: '6 min',
      political_lean: 'independiente',
      videoUrl: 'https://www.youtube.com/embed/dQw4w9WgXcQ',
      tags: ['educaci√≥n', 'inteligencia artificial', 'innovaci√≥n', 'tecnolog√≠a'],
      relatedLinks: [
        'Programa IA-Educaci√≥n - Detalles completos',
        'Mapa de centros especializados',
        'Cronograma de implementaci√≥n'
      ]
    }
  ];

  const filteredNews = selectedCategory === 'todas' 
    ? news 
    : news.filter(item => item.category === selectedCategory || item.political_lean === selectedCategory);

  const handleCategoryChange = (categoryId: string) => {
    setIsLoading(true);
    setSelectedCategory(categoryId);
    setTimeout(() => setIsLoading(false), 500); // Simulate loading
  };

  // Article Detail View
  if (selectedArticle) {
    return (
      <div className="min-h-screen bg-gray-50">
        {/* Article Header */}
        <div className="bg-gradient-to-r from-blue-600 to-purple-600 text-white">
          <div className="container mx-auto px-4 py-6">
            <button 
              onClick={() => setSelectedArticle(null)}
              className="flex items-center text-white/80 hover:text-white mb-4 transition-colors"
            >
              ‚Üê Volver a noticias
            </button>
            
            <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
              <div className="lg:col-span-2">
                <h1 className="text-3xl md:text-4xl font-bold mb-4">{selectedArticle.title}</h1>
                <p className="text-xl text-blue-100 mb-4">{selectedArticle.summary}</p>
                
                <div className="flex items-center space-x-4 text-sm">
                  <span className={`px-3 py-1 rounded-full text-white ${
                    categories.find(c => c.id === selectedArticle.category)?.color || 'bg-gray-500'
                  }`}>
                    {categories.find(c => c.id === selectedArticle.category)?.icon} {categories.find(c => c.id === selectedArticle.category)?.name}
                  </span>
                  <span>üìç {selectedArticle.source}</span>
                  <span>‚è∞ hace {selectedArticle.time}</span>
                  <span>üìñ {selectedArticle.readTime}</span>
                </div>
              </div>
              
              <div className="lg:col-span-1">
                <div className="bg-white/10 backdrop-blur rounded-lg p-4">
                  <h3 className="font-semibold mb-3">üìä Engagement</h3>
                  <div className="space-y-2 text-sm">
                    <div className="flex justify-between">
                      <span>üëç Me gusta:</span>
                      <span className="font-bold">{selectedArticle.engagement.likes}</span>
                    </div>
                    <div className="flex justify-between">
                      <span>üì§ Compartidas:</span>
                      <span className="font-bold">{selectedArticle.engagement.shares}</span>
                    </div>
                    <div className="flex justify-between">
                      <span>üí¨ Comentarios:</span>
                      <span className="font-bold">{selectedArticle.engagement.comments}</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        {/* Article Content */}
        <div className="container mx-auto px-4 py-8">
          <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
            {/* Main Article */}
            <div className="lg:col-span-2">
              <div className="bg-white rounded-lg shadow-lg p-8">
                {/* Article Body */}
                <div className="prose max-w-none text-gray-700 leading-relaxed text-lg">
                  {selectedArticle.fullContent.split('\n\n').map((paragraph, index) => (
                    <p key={index} className="mb-6">{paragraph}</p>
                  ))}
                </div>

                {/* Video Embed if available */}
                {selectedArticle.videoUrl && (
                  <div className="mt-8">
                    <h3 className="text-xl font-semibold mb-4">üì∫ Video relacionado</h3>
                    <div className="aspect-video bg-gray-100 rounded-lg p-4 text-center">
                      <div className="text-6xl mb-4">üé•</div>
                      <p className="text-gray-600">Video: An√°lisis completo del tema</p>
                      <button className="mt-3 bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition-colors">
                        ‚ñ∂Ô∏è Reproducir Video
                      </button>
                    </div>
                  </div>
                )}

                {/* Tags */}
                {selectedArticle.tags && (
                  <div className="mt-8 pt-6 border-t">
                    <h3 className="text-lg font-semibold mb-3">üè∑Ô∏è Etiquetas</h3>
                    <div className="flex flex-wrap gap-2">
                      {selectedArticle.tags.map((tag, index) => (
                        <span key={index} className="bg-blue-100 text-blue-600 px-3 py-1 rounded-full text-sm">
                          #{tag}
                        </span>
                      ))}
                    </div>
                  </div>
                )}

                {/* Action Buttons */}
                <div className="mt-8 pt-6 border-t">
                  <div className="flex flex-wrap gap-4">
                    <button className="bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors font-semibold">
                      üëç Me gusta ({selectedArticle.engagement.likes})
                    </button>
                    <button className="bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors font-semibold">
                      üì§ Compartir
                    </button>
                    <button className="bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 transition-colors font-semibold">
                      üí¨ Discutir en Comunidad
                    </button>
                    <button className="bg-yellow-600 text-white px-6 py-3 rounded-lg hover:bg-yellow-700 transition-colors font-semibold">
                      üíæ Guardar
                    </button>
                  </div>
                </div>
              </div>
            </div>

            {/* Sidebar */}
            <div className="lg:col-span-1 space-y-6">
              {/* Related Links */}
              {selectedArticle.relatedLinks && (
                <div className="bg-white rounded-lg shadow-lg p-6">
                  <h3 className="text-lg font-semibold mb-4">üîó Enlaces relacionados</h3>
                  <div className="space-y-3">
                    {selectedArticle.relatedLinks.map((link, index) => (
                      <a key={index} href="#" className="block text-blue-600 hover:text-blue-800 text-sm transition-colors">
                        ‚Üí {link}
                      </a>
                    ))}
                  </div>
                </div>
              )}

              {/* Share Options */}
              <div className="bg-white rounded-lg shadow-lg p-6">
                <h3 className="text-lg font-semibold mb-4">üì§ Compartir</h3>
                <div className="grid grid-cols-2 gap-3">
                  <button className="bg-blue-600 text-white p-3 rounded-lg hover:bg-blue-700 transition-colors text-sm">
                    üìò Facebook
                  </button>
                  <button className="bg-sky-500 text-white p-3 rounded-lg hover:bg-sky-600 transition-colors text-sm">
                    üê¶ Twitter
                  </button>
                  <button className="bg-green-600 text-white p-3 rounded-lg hover:bg-green-700 transition-colors text-sm">
                    üì± WhatsApp
                  </button>
                  <button className="bg-blue-700 text-white p-3 rounded-lg hover:bg-blue-800 transition-colors text-sm">
                    üíº LinkedIn
                  </button>
                </div>
              </div>

              {/* Related Articles */}
              <div className="bg-white rounded-lg shadow-lg p-6">
                <h3 className="text-lg font-semibold mb-4">üì∞ Art√≠culos relacionados</h3>
                <div className="space-y-4">
                  {news.filter(n => n.id !== selectedArticle.id && n.category === selectedArticle.category).slice(0, 3).map((article) => (
                    <div key={article.id} className="border-b pb-3 last:border-b-0">
                      <button
                        onClick={() => setSelectedArticle(article)}
                        className="text-left hover:text-blue-600 transition-colors"
                      >
                        <h4 className="font-medium text-sm mb-1">{article.title}</h4>
                        <p className="text-xs text-gray-600">{article.time} ‚Ä¢ {article.source}</p>
                      </button>
                    </div>
                  ))}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    );
  }

  // Main News Feed View
  return (
    <div className="min-h-screen bg-gray-50">
      {/* Header */}
      <div className="bg-gradient-to-r from-blue-600 to-purple-600 text-white">
        <div className="container mx-auto px-4 py-8">
          <div className="flex items-center justify-between mb-6">
            <div>
              <h1 className="text-4xl font-bold mb-2">üì∞ Noticias Colombia</h1>
              <p className="text-blue-100">Cobertura completa, an√°lisis profundo, m√∫ltiples perspectivas</p>
            </div>
            <div className="flex items-center space-x-4">
              <button
                onClick={() => setShowReels(!showReels)}
                className="bg-white/20 backdrop-blur px-4 py-2 rounded-lg hover:bg-white/30 transition-colors font-medium"
              >
                {showReels ? 'üì∞ Noticias' : 'üé¨ Reels'}
              </button>
              <button
                onClick={() => setViewMode(viewMode === 'grid' ? 'list' : 'grid')}
                className="bg-white/20 backdrop-blur px-4 py-2 rounded-lg hover:bg-white/30 transition-colors"
              >
                {viewMode === 'grid' ? 'üìã Lista' : '‚äû Grid'}
              </button>
            </div>
          </div>

          {/* Search */}
          <div className="max-w-2xl">
            <div className="relative">
              <input
                type="text"
                value={searchQuery}
                onChange={(e) => setSearchQuery(e.target.value)}
                placeholder="Buscar noticias por t√≠tulo, autor, tema..."
                className="w-full px-4 py-3 pr-12 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-white/30"
              />
              <button className="absolute right-3 top-3 text-gray-500 hover:text-gray-700">
                üîç
              </button>
            </div>
          </div>
        </div>
      </div>

      {/* Categories Bar - Fully Scrollable */}
      <div className="bg-white shadow-sm sticky top-0 z-40">
        <div className="container mx-auto px-4">
          <div className="flex items-center justify-between py-4">
            <div className="flex-1 overflow-x-auto">
              <div className="flex space-x-3 pb-2" style={{ width: 'max-content' }}>
                {categories.map((category) => (
                  <button
                    key={category.id}
                    onClick={() => handleCategoryChange(category.id)}
                    className={`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-all whitespace-nowrap ${
                      selectedCategory === category.id
                        ? `${category.color} text-white shadow-lg transform scale-105`
                        : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                    }`}
                  >
                    <span>{category.icon}</span>
                    <span>{category.name}</span>
                    <span className="bg-white/20 text-xs px-2 py-1 rounded-full">
                      {category.count}
                    </span>
                  </button>
                ))}
              </div>
            </div>
          </div>
        </div>
      </div>

      {/* Content */}
      <div className="container mx-auto px-4 py-8">
        {isLoading ? (
          <div className="text-center py-12">
            <div className="text-6xl mb-4">üì∞</div>
            <p className="text-gray-600 text-lg">Cargando noticias...</p>
            <div className="mt-4 w-64 mx-auto bg-gray-200 rounded-full h-2">
              <div className="bg-blue-600 h-2 rounded-full animate-pulse" style={{ width: '60%' }}></div>
            </div>
          </div>
        ) : (
          <>
            {/* Stats Bar */}
            <div className="bg-white rounded-lg shadow-sm p-4 mb-6">
              <div className="flex items-center justify-between text-sm text-gray-600">
                <span>
                  üìä {filteredNews.length} art√≠culos en "{categories.find(c => c.id === selectedCategory)?.name}"
                </span>
                <div className="flex items-center space-x-4">
                  <span>üîÑ Actualizado hace 5 min</span>
                  <span>üëÄ 2,847 lectores activos</span>
                </div>
              </div>
            </div>

            {/* News Grid/List */}
            <div className={`grid gap-6 ${
              viewMode === 'grid' 
                ? 'grid-cols-1 md:grid-cols-2 lg:grid-cols-3' 
                : 'grid-cols-1'
            }`}>
              {filteredNews.map((article) => (
                <div 
                  key={article.id} 
                  className="bg-white rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 cursor-pointer overflow-hidden"
                  onClick={() => setSelectedArticle(article)}
                >
                  {/* Article Header */}
                  <div className="p-6">
                    <div className="flex items-center justify-between mb-4">
                      <span className={`px-3 py-1 rounded-full text-white text-xs font-medium ${
                        categories.find(c => c.id === article.category)?.color || 'bg-gray-500'
                      }`}>
                        {categories.find(c => c.id === article.category)?.icon} {categories.find(c => c.id === article.category)?.name}
                      </span>
                      <span className="text-gray-500 text-sm">hace {article.time}</span>
                    </div>

                    <h3 className="text-xl font-bold text-gray-900 mb-3 hover:text-blue-600 transition-colors">
                      {article.title}
                    </h3>
                    
                    <p className="text-gray-600 mb-4 line-clamp-3">
                      {article.summary}
                    </p>

                    {/* Article Meta */}
                    <div className="flex items-center justify-between text-sm text-gray-500 mb-4">
                      <span>üìç {article.source}</span>
                      <span>üìñ {article.readTime}</span>
                    </div>

                    {/* Engagement */}
                    <div className="flex items-center justify-between pt-4 border-t">
                      <div className="flex items-center space-x-4 text-sm text-gray-600">
                        <span>üëç {article.engagement.likes}</span>
                        <span>üì§ {article.engagement.shares}</span>
                        <span>üí¨ {article.engagement.comments}</span>
                      </div>
                      <button className="bg-blue-100 text-blue-600 px-4 py-2 rounded-lg hover:bg-blue-200 transition-colors text-sm font-medium">
                        Leer m√°s ‚Üí
                      </button>
                    </div>
                  </div>
                </div>
              ))}
            </div>

            {/* Load More */}
            <div className="text-center mt-12">
              <button className="bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-4 rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all font-semibold shadow-lg">
                üì∞ Cargar m√°s noticias
              </button>
            </div>
          </>
        )}
      </div>
    </div>
  );
};

export default EnhancedNews;